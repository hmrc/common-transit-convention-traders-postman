{
	"info": {
		"_postman_id": "d022d48f-a777-4d7f-a2ba-32fd34504818",
		"name": "09_CTC_API_Guarantee_Regression",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "18636490"
	},
	"item": [
		{
			"name": "Create Bearer Token Copy",
			"item": [
				{
					"name": "POST Auth Bearer Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var responseBody = cheerio.load(pm.response.text());",
									"",
									"const bearerExtractionRegex = /((.+),)?Bearer ([^,\\s]+)(,.+)?$/g;",
									"",
									"const token = responseBody('td[data-session-id=\"authToken\"]').text().trim();",
									"",
									"// There should only be one match, so we just get it out by exploding the iterator and getting the first (and only) result.",
									"const matches = [...token.matchAll(bearerExtractionRegex)][0];",
									"",
									"// Match 3 is the bearer token",
									"let bearerToken = matches[3];",
									"if (matches[4]) {",
									"    // Match 4 is if GNAP appears after the bearer token",
									"    bearerToken += matches[4];",
									"}",
									"",
									"if (matches[2]) {",
									"    // Match 2 is if GNAP appears before the bearer token",
									"    bearerToken += \",\" + matches[2];",
									"}",
									"",
									"// bearerToken will now contain the bearer token (without Bearer) and the GNAP token.",
									"pm.environment.set(\"bearer_token\", bearerToken);",
									"pm.test(\"Successful Bearer Token\", function () {",
									"    pm.expect(bearerToken).not.equal(null);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){}, [500]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							},
							{
								"key": "",
								"type": "text",
								"value": "",
								"disabled": true
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "authorityId",
									"value": "",
									"type": "text"
								},
								{
									"key": "redirectionUrl",
									"value": "{{auth_base_url}}/auth-login-stub/session",
									"type": "text"
								},
								{
									"key": "credentialStrength",
									"value": "weak",
									"type": "text"
								},
								{
									"key": "confidenceLevel",
									"value": "50",
									"type": "text"
								},
								{
									"key": "affinityGroup",
									"value": "Individual",
									"type": "text"
								},
								{
									"key": "enrolment[0].state",
									"value": "Activated",
									"type": "text"
								},
								{
									"key": "enrolment[0].name",
									"value": "HMCE-NCTS-ORG",
									"type": "text"
								},
								{
									"key": "enrolment[0].taxIdentifier[0].name",
									"value": "VATRegNoTURN",
									"type": "text"
								},
								{
									"key": "enrolment[0].taxIdentifier[0].value",
									"value": "9999999911",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{auth_base_url}}/auth-login-stub/gg-sign-in",
							"host": [
								"{{auth_base_url}}"
							],
							"path": [
								"auth-login-stub",
								"gg-sign-in"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_01 - Non- National GRN Type 0",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST1\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>0</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H72</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 0\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"",
									"    pm.expect(grnValue).to.eql(\"1.00GBP\");",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_02 - National GRN Type 0",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST6\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS GB TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>TEST OFFICE</StrAndNumCE122>\n        <PosCodCE123>SS99 1AF</PosCodCE123>\n        <CitCE124>South-End</CitCE124>\n        <CouCE125>GB</CouCE125>\n        <TINCE159>GB954133135000</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>GB000051</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>0</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000HG3</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Validate GRN value is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"     var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_03 - Non National GRN Type 1",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST2\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80> \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Daffodils</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>20GB0000010000GX1</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 1\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"    pm.expect(grnValue).to.eql(\"1.00GBP\");",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_04 - National GRN Type 1",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST7\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS GB TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>TEST OFFICE</StrAndNumCE122>\n        <PosCodCE123>SS99 1AF</PosCodCE123>\n        <CitCE124>South-End</CitCE124>\n        <CouCE125>GB</CouCE125>\n        <TINCE159>GB954133135000</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>GB000051</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n      \n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_05 - Non National GRN Type 2",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST3\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>2</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H81</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 2\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"    pm.expect(grnValue).to.eql(\"1.00GBP\");",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_06- National GRN Type 2",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST8\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS GB TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>TEST OFFICE</StrAndNumCE122>\n        <PosCodCE123>SS99 1AF</PosCodCE123>\n        <CitCE124>South-End</CitCE124>\n        <CouCE125>GB</CouCE125>\n        <TINCE159>GB954133135000</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>GB000051</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>2</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000HH2</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_07 - Non National GRN Type 3",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST2\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AgrLocOfGooHEA39>Pre-Lodged</AgrLocOfGooHEA39>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n        <DecPlaHEA394LNG>EN</DecPlaHEA394LNG>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <NADLNGPC>EN</NADLNGPC>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <GUAGUA>\n        <GuaTypGUA1>3</GuaTypGUA1>\n        <GUAREFREF>\n        <OthGuaRefREF4>Cash</OthGuaRefREF4>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Tea</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <MarNumOfPacGS21LNG>EN</MarNumOfPacGS21LNG>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>\n",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for Type 3 is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_08 - National GRN Type 3",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST8\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS GB TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>TEST OFFICE</StrAndNumCE122>\n        <PosCodCE123>SS99 1AF</PosCodCE123>\n        <CitCE124>South-End</CitCE124>\n        <CouCE125>GB</CouCE125>\n        <TINCE159>GB954133135000</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>GB000051</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>2</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000HH2</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for Type 3 is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_09 - Non National GRN Type 4",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST4\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>4</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H90O435678</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 4\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"",
									"    pm.expect(grnValue).to.eql(\"1.00GBP\");",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_10 - National GRN Type 4",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST9\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS GB TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>TEST OFFICE</StrAndNumCE122>\n        <PosCodCE123>SS99 1AF</PosCodCE123>\n        <CitCE124>South-End</CitCE124>\n        <CouCE125>GB</CouCE125>\n        <TINCE159>GB954133135000</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>GB000051</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>4</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H27o123456</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n    <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_11 - Non National GRN Type 6",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST2\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AgrLocOfGooHEA39>Pre-Lodged</AgrLocOfGooHEA39>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n        <DecPlaHEA394LNG>EN</DecPlaHEA394LNG>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <NADLNGPC>EN</NADLNGPC>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <GUAGUA>\n        <GuaTypGUA1>6</GuaTypGUA1>\n        <GUAREFREF>\n        <OthGuaRefREF4>Guarantee waiver</OthGuaRefREF4>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Tea</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <MarNumOfPacGS21LNG>EN</MarNumOfPacGS21LNG>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>\n",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_12 - National GRN Type 6",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST8\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS GB TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>TEST OFFICE</StrAndNumCE122>\n        <PosCodCE123>SS99 1AF</PosCodCE123>\n        <CitCE124>South-End</CitCE124>\n        <CouCE125>GB</CouCE125>\n        <TINCE159>GB954133135000</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>GB000051</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>2</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000HH2</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_13 - Non National GRN Type 9",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST5\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>9</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000HA0</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 9\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"",
									"    pm.expect(grnValue).to.eql(\"1.00GBP\");",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_14 - National GRN Type 9",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST10\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS GB TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>TEST OFFICE</StrAndNumCE122>\n        <PosCodCE123>SS99 1AF</PosCodCE123>\n        <CitCE124>South-End</CitCE124>\n        <CouCE125>GB</CouCE125>\n        <TINCE159>GB954133135000</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>GB000051</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>9</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000HF4</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value is undefined\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GOOITEGDS.SPEMENMT2;",
									"    pm.expect(grn).to.be.undefined;",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_15 - Non- National GRN Type 0 with Value",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST1\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>0</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H72</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>100.00EUR20GB0000010000H72</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 0\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"    pm.expect(grnValue).to.include(\"100.00EUR\");",
									"    //pm.expect(grnValue).to.eql(\"1.00GBP\");",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_16 - Non National GRN Type 1 With Value",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST2\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80> \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Daffodils</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>100.00EUR20GB0000010000GX1</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 1\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"    pm.expect(grnValue).to.include(\"100.00EUR\");",
									"    //pm.expect(grnValue).to.eql(\"1.00GBP\");",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_17 - Non National GRN Type 2 With Value",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST3\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>2</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H81</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>100.00EUR20GB0000010000H81</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 0\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"    pm.expect(grnValue).to.include(\"100.00EUR\");",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_18 - Non National GRN Type 4 With Value",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST4\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>4</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H90O435678</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>100.00EUR20GB0000010000H90O435678</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 4\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    //console.log(grnValue)",
									"    pm.expect(grnValue).to.include(\"100.00EUR\");",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_19 - Non National GRN Type 9 With Value",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST5\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>9</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000HA0</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Cookies</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>100.00EUR20GB0000010000HA0</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - GET ALL Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 9\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"",
									"    pm.expect(grnValue).to.include(\"100.00EUR\");",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_20 - Non National Multiple GRN Type 0 and 1",
			"item": [
				{
					"name": "01- IE015 Simplified IE015 no Guarantee Amount GB to IT",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST13\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>0</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H72</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n        <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET ALL IE015 > IE028 > IE029 ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 0\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA[0].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2[0].AddInfMT21.split(grn)[0];",
									"    pm.expect(grnValue).to.include(\"1.00GBP\");",
									"",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 1\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA[1].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2[1].AddInfMT21.split(grn)[0];",
									"  ",
									"    pm.expect(grnValue).to.include(\"1.00GBP\");",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_21 - Non National Multiple GRN Type 0 and 1 With Value",
			"item": [
				{
					"name": "01- IE015 Simplified IE015 with Guarantee Amount GB to IT With Value",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST13\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>0</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000H72</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n        <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>20GB0000010000H72</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <SPEMENMT2>\n        <AddInfMT21>1000.00EUR20GB0000010000GX1</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET ALL IE015 > IE028 > IE029 ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 0\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA[0].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2[0].AddInfMT21.split(grn)[0];",
									"    pm.expect(grnValue).to.include(\"1.00GBP\");",
									"",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 1\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA[1].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2[1].AddInfMT21.split(grn)[0];",
									"",
									"    pm.expect(grnValue).to.include(\"1000.00EUR\");",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_22 - Non National Multiple Gurantee Type 1 and 3 ",
			"item": [
				{
					"name": "01- IE015 Simplified IE015 no Guarantee Amount GB to IT",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST2\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n        <GUAGUA>\n        <GuaTypGUA1>3</GuaTypGUA1>\n        <GUAREFREF>\n            <OthGuaRefREF4>Cash</OthGuaRefREF4>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Daffodils</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET ALL IE015 > IE028 > IE029 ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 1\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA[0].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    pm.expect(grnValue).to.include(\"1.00GBP\");",
									"",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 3\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    //var grn = jsonObject.CC015B.GUAGUA[1].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2[1];",
									"    pm.expect(grnValue).to.be.undefined;",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_23 - Non National Multiple Gurantee Type 1 and 3  with Value",
			"item": [
				{
					"name": "01- IE015 Simplified IE015 no Guarantee Amount GB to IT",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST2\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"//console.log(\"department id is \"+depId)",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n        <GUAGUA>\n        <GuaTypGUA1>3</GuaTypGUA1>\n        <GUAREFREF>\n            <OthGuaRefREF4>Cash</OthGuaRefREF4>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Daffodils</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n\t\t\t<AddInfMT21>1000.00EUR20GB0000010000GX1</AddInfMT21>\n\t\t\t<AddInfCodMT23>CAL</AddInfCodMT23>\n\t\t</SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET ALL IE015 > IE028 > IE029 ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 1 with value\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA[0].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    pm.expect(grnValue).to.include(\"1000.00EUR\");",
									"",
									"});",
									"pm.test(\"Validate GRN value for GRN Type 3\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    //var grn = jsonObject.CC015B.GUAGUA[1].GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2[1];",
									"    pm.expect(grnValue).to.be.undefined;",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_24 - Non National Multiple OOTransit",
			"item": [
				{
					"name": "01- IE015 Simplified IE015 no Guarantee Amount GB to IT",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"let now1 = moment();",
									"now1.add('3', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUATEST2\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"ArrTimTRACUS0851\", now1.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var loc = postman.getResponseHeader(\"Location\").toString();",
									"var depId = loc.split(\"/\")[5];",
									"pm.environment.set(\"deptId\",depId);",
									"",
									"pm.test(\"POST IE015 must return response code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"pm.test(\"Validate location \", function () {",
									"    var dept_location = postman.getResponseHeader(\"Location\").toString();",
									"});",
									"if (pm.response.code !== 202) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>GB000051</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Daffodils</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET ALL IE015 > IE028 > IE029 ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Get all messages must return status code 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Validate GRN value for Multiple Office of Transit\", function () {",
									"    var jsonData = pm.response.json();",
									"    var jsonObject = xml2Json(jsonData._embedded.messages[0].body);",
									"    var grn = jsonObject.CC015B.GUAGUA.GUAREFREF.GuaRefNumGRNREF1;",
									"    var grnValue = jsonObject.CC015B.GOOITEGDS.SPEMENMT2.AddInfMT21.split(grn)[0];",
									"    pm.expect(grnValue).to.include(\"1.00GBP\");",
									"",
									"});",
									"if (pm.response.code !== 200) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.hmrc.1.0+json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{bearer_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/movements/departures/{{deptId}}/messages",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures",
								"{{deptId}}",
								"messages"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_25 - Non National CurrencyCode Missing",
			"item": [
				{
					"name": "01- IE015 Simplified IE015CurrencyCode Missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUAR02\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"GRN with Cuurency Code Missing return status code 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"pm.test(\"Validate GRN value for Multiple Office of Transit\", function () {",
									"    pm.response.to.have.body(\"Parsed Amount value without currency\");",
									"",
									"});",
									"if (pm.response.code !== 400) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>100.0020GB0000010000GX1</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_26 - Non National GRN with 0 value ",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUAR02\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"GRN with Zero value return status code 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"pm.test(\"Validate GRN value with Value 0 \", function () {",
									"    pm.response.to.have.body(\"Amount cannot be equal to or less than 0\");",
									"",
									"});",
									"if (pm.response.code !== 400) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>00.00EUR20GB0000010000GX1</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_27 - Non National GRN Amount is longer than 18 characters",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUAR02\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"GRN with amount longer than 18 chars must return status code 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"pm.test(\"Validate GRN value with Amount greater than 18 chars \", function () {",
									"    pm.response.to.have.body(\"Guarantee amount should be not be longer than 18 characters\");",
									"",
									"});",
									"if (pm.response.code !== 400) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>1116677442311444.22EUR20GB0000010000GX1</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "TC_28 - Non National GRN with Special Character in GRN Value",
			"item": [
				{
					"name": "01- Simplified IE015",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const moment = require('moment');",
									"let now = moment();",
									"now.add('2', 'days');",
									"",
									"",
									"let date1 = moment();",
									"date1.add('8', 'days');",
									"",
									"var text=\"GUAR02\";",
									"var charset = moment().format(\"YYMMDDHHmmss\");",
									"",
									"text += charset;",
									"",
									"// Use a Base36 number so that it's alphanumeric and less",
									"// likely to trigger credit card disclosure scanners",
									"var intConRef = _.random(0, 6140942214464815497215)",
									"  .toString(36)",
									"  .padStart(14, '0');",
									"",
									"pm.collectionVariables.set(\"DatOfPreMES9\", moment().format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"TimOfPreMES10\", moment().format(\"HHmm\"));",
									"pm.collectionVariables.set(\"DecDatHEA383\", moment().format(\"YYYYMMDD\"));",
									"",
									"pm.collectionVariables.set(\"ArrTimTRACUS085\", now.format(\"YYYYMMDDHHmm\"));",
									"pm.collectionVariables.set(\"DatLimERS69\", date1.format(\"YYYYMMDD\"));",
									"pm.collectionVariables.set(\"RefNumHEA4\", text);",
									"pm.collectionVariables.set(\"IntConRefMES11\", intConRef);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"GRN with Special Character must return status code 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"pm.test(\"Validate GRN value with Special Character \", function () {",
									"    pm.response.to.have.body(\"The specified amount is not a valid representation of a decimal\");",
									"",
									"});",
									"if (pm.response.code !== 400) {",
									"    return;",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{bearer_token}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/xml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "<CC015B>\n    <SynIdeMES1>UNOC</SynIdeMES1>\n    <SynVerNumMES2>3</SynVerNumMES2>\n    <MesRecMES6>NCTS</MesRecMES6>\n    <DatOfPreMES9>{{DatOfPreMES9}}</DatOfPreMES9>\n    <TimOfPreMES10>{{TimOfPreMES10}}</TimOfPreMES10>\n    <IntConRefMES11>{{IntConRefMES11}}</IntConRefMES11>\n    <AppRefMES14>NCTS</AppRefMES14>\n    <MesIdeMES19>1</MesIdeMES19>\n    <MesTypMES20>GB015B</MesTypMES20>\n    <HEAHEA>\n        <RefNumHEA4>{{RefNumHEA4}}</RefNumHEA4>\n        <TypOfDecHEA24>T1</TypOfDecHEA24>\n        <CouOfDesCodHEA30>IT</CouOfDesCodHEA30>\n        <AutLocOfGooCodHEA41>954131533-GB60DEP</AutLocOfGooCodHEA41>\n        <CouOfDisCodHEA55>GB</CouOfDisCodHEA55>\n        <IdeOfMeaOfTraAtDHEA78>NC15 REG</IdeOfMeaOfTraAtDHEA78>\n        <NatOfMeaOfTraAtDHEA80>GB</NatOfMeaOfTraAtDHEA80>\n      \n        <ConIndHEA96>0</ConIndHEA96>\n        <NCTSAccDocHEA601LNG>EN</NCTSAccDocHEA601LNG>\n        <TotNumOfIteHEA305>1</TotNumOfIteHEA305>\n        <TotNumOfPacHEA306>10</TotNumOfPacHEA306>\n        <TotGroMasHEA307>1000</TotGroMasHEA307>\n        <DecDatHEA383>{{DecDatHEA383}}</DecDatHEA383>\n        <DecPlaHEA394>Dover</DecPlaHEA394>\n    </HEAHEA>\n    <TRAPRIPC1>\n        <NamPC17>NCTS UK TEST LAB HMCE</NamPC17>\n        <StrAndNumPC122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumPC122>\n        <PosCodPC123>SS99 1AA</PosCodPC123>\n        <CitPC124>SOUTHEND-ON-SEA, ESSEX</CitPC124>\n        <CouPC125>GB</CouPC125>\n        <TINPC159>GB954131533000</TINPC159>\n    </TRAPRIPC1>\n    <TRACONCO1>\n        <NamCO17>NCTS UK TEST LAB HMCE</NamCO17>\n        <StrAndNumCO122>11TH FLOOR, ALEX HOUSE, VICTORIA AV</StrAndNumCO122>\n        <PosCodCO123>SS99 1AA</PosCodCO123>\n        <CitCO124>SOUTHEND-ON-SEA, ESSEX</CitCO124>\n        <CouCO125>GB</CouCO125>\n        <TINCO159>GB954131533000</TINCO159>\n    </TRACONCO1>\n    <TRACONCE1>\n        <NamCE17>NCTS UK TEST LAB HMCE</NamCE17>\n        <StrAndNumCE122>ITALIAN OFFICE</StrAndNumCE122>\n        <PosCodCE123>IT99 1IT</PosCodCE123>\n        <CitCE124>MILAN</CitCE124>\n        <CouCE125>IT</CouCE125>\n        <TINCE159>IT11ITALIANC11</TINCE159>\n    </TRACONCE1>\n    <CUSOFFDEPEPT>\n        <RefNumEPT1>GB000060</RefNumEPT1>\n    </CUSOFFDEPEPT>\n    <CUSOFFTRARNS>\n        <RefNumRNS1>FR001260</RefNumRNS1>\n        <ArrTimTRACUS085>{{ArrTimTRACUS085}}</ArrTimTRACUS085>\n    </CUSOFFTRARNS>\n    <CUSOFFDESEST>\n        <RefNumEST1>IT018100</RefNumEST1>\n    </CUSOFFDESEST>\n    <CONRESERS>\n         <ConResCodERS16>A3</ConResCodERS16>\n         <DatLimERS69>{{DatLimERS69}}</DatLimERS69>\n    </CONRESERS>\n     <SEAINFSLI>\n        <SeaNumSLI2>1</SeaNumSLI2>\n        <SEAIDSID>\n            <SeaIdeSID1>NCTS001</SeaIdeSID1>\n        </SEAIDSID>\n    </SEAINFSLI>\n    <GUAGUA>\n        <GuaTypGUA1>1</GuaTypGUA1>\n        <GUAREFREF>\n            <GuaRefNumGRNREF1>20GB0000010000GX1</GuaRefNumGRNREF1>\n            <AccCodREF6>AC01</AccCodREF6>\n        </GUAREFREF>\n    </GUAGUA>\n    <GOOITEGDS>\n        <IteNumGDS7>1</IteNumGDS7>\n        <GooDesGDS23>Wheat</GooDesGDS23>\n        <GooDesGDS23LNG>EN</GooDesGDS23LNG>\n        <GroMasGDS46>1000</GroMasGDS46>\n        <NetMasGDS48>950</NetMasGDS48>\n        <SPEMENMT2>\n        <AddInfMT21>111,22EUR20GB0000010000GX1</AddInfMT21>\n        <AddInfCodMT23>CAL</AddInfCodMT23>\n        </SPEMENMT2>\n        <PACGS2>\n            <MarNumOfPacGS21>AB234</MarNumOfPacGS21>\n            <KinOfPacGS23>BX</KinOfPacGS23>\n            <NumOfPacGS24>10</NumOfPacGS24>\n        </PACGS2>\n    </GOOITEGDS>\n</CC015B>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/movements/departures",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"movements",
								"departures"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"setTimeout(function(){}, [400]);"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "ArrTimTRACUS085",
			"value": "202107081619"
		},
		{
			"key": "DatLimERS69",
			"value": "20210714"
		},
		{
			"key": "DatOfPreMES9",
			"value": "20210706"
		},
		{
			"key": "DecDatHEA383",
			"value": "20210706"
		},
		{
			"key": "IntConRefMES11",
			"value": 11639155460957
		},
		{
			"key": "RefNumHEA4",
			"value": "GUATEST1210706161948"
		},
		{
			"key": "TimOfPreMES10",
			"value": "1619"
		},
		{
			"key": "ArrTimTRACUS0851",
			"value": "202107091619"
		}
	]
}